{% extends "index.html" %} {% block title %}Products page{% endblock %}

{% block nav%}
<li class="nav-item active">
    <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
  </li>
  <li class="nav-item">
    <a class="nav-link disabled" href="/products">Products</a>
  </li>
  <li class="nav-item active">
    <a class="nav-link" href="/about-us">About Us</a>
  </li>
{% endblock %}

{% block content %}

<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  </ol>
  <div class="carousel-inner" style="background: #b5b5b5;">
    <div class="carousel-item active">
      <img class="d-block w-50" src="{{ products[0].url }}" style="right: 100;padding: 15%;margin-left: 25%;background-color: black;" alt="First slide">
      <div class="carousel-caption d-none d-md-block">
        <h5>{{products[0].title}}</h5>
        <p>{{products[0].description}}</p>
      </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-50" src="{{ products[1].url }}" style="right: 100;padding: 15%;margin-left: 25%;background-color: black;" alt="Second slide">
      <div class="carousel-caption d-none d-md-block">
        <h5>{{products[1].title}}</h5>
        <p> {{products[1].description}}</p>
      </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-50" src="{{ products[2].url }}" style="right: 100;padding: 15%;margin-left: 25%;background-color: black;" alt="Third slide">
      <div class="carousel-caption d-none d-md-block">
        <h5>{{products[2].title}}</h5>
        <p>{{products[2].description}}</p>
      </div>
    </div>
  </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

<div class="filtering-data" style="margin: 100px 0;">
  <h3>Advanced Search and Filter</h3>
  <span>We here to help you find your best products faster</span>
  <hr>
  <h3>Filter List</h3>
  <div class="basic-filter" style="margin-top:20px;">
    <h5>By price</h5>
    <button class="high-to-low" style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;">Highest</button>
    <button class="low-to-high" style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;">Lowest</button>
  </div>
  <div class="basic-filter" style="margin-top:20px;">
    <h5>By branch</h5>
    <button class="branch-coles" style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;"><img src="../static/images/Coles_logo.png" style="height: 100%;" alt="Coles"></button>
    <button class="branch-iga" style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;"><img src="../static/images/IGA_logo.png" style="height: 100%;" alt="IGA"></button>
  </div>
  <div class="basic-filter" style="margin-top:20px;">
    <h5>By type of product</h5>
    <button style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;">Vegetable</button>
    <button style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;">Meat</button>
    <button style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;">Milk</button>
    <button style="height: 42px;padding: 5px 15px;background-color: #fff;border: 1px solid #d9d6d6;">Junk Foods</button>
  </div>
</div>

<div class="row">
    {% for col in products %}
    <div class="card-container col-{{ len[0] }} col-sm-{{ len[0] }} col-md-{{ len[1] }} col-lg-{{ len[2] }} col-xl-{{ len[3] }}" style="float: left;">
        <div class="card text-black" style="padding: 20px;">
            <img src="{{ col.url }}"
              class="card-img-top" alt="Apple Computer" />
            <div style="position: absolute;width:30%;top:15px;right:15px;">
              <p style="position: absolute;top: 31%;right:0;left:0;text-align:center;font-size: 20px;color: red;">{{ 100 - col.discount*100/col.originalPrice }}%</p>
              <img src="../static/images/discount_circle.png" style="width: 100%;" alt="Discount Detail">
            </div>
            
            <div class="card-body">
              <div class="text-center">
                <h5 class="card-title" style="overflow: hidden;
                white-space: nowrap;
                text-overflow: ellipsis;">{{ col.title }}</h5>
                <p class="text-muted mb-4">Best option in</p>
              </div>
              <div>
                <div class="d-flex justify-content-between">
                  <span>Original price</span><span>${{ col.originalPrice }}</span>
                </div>
                <div class="d-flex justify-content-between" style="margin-top: 10px;margin-bottom:10px;">
                  <div class="price-left" style="width: 30%;">
                    <img src="../static/images/Coles_logo.png" style="width: 100%;margin-bottom: 5px;" alt="Coles">
                    <br>
                    <span style="background-color: #bdbcbc;padding:4px;font-size:.6em;padding-left:10px;padding-right:10px;">5 km away</span>
                  </div>
                  <div class="price-right" style="padding-left: 10%;">
                    <small>was ${{ col.originalPrice }} now ${{ col.discount }}</small><br>
                    <span style="font-weight: bold;">{{ col.description }}</span>
                  </div>
                </div>
                <div class="d-flex justify-content-between" style="margin-top: 10px;margin-bottom:10px;">
                  <div class="price-left" style="width: 30%;">
                    <img src="../static/images/IGA_logo.png" style="width: 100%;margin-bottom: 5px;" alt="IGA">
                    <span style="background-color: #bdbcbc;padding:4px;font-size:.6em;padding-left:10px;padding-right:10px;">2 km away</span>
                  </div>
                  <div class="price-right" style="padding-left: 10%;">
                    <small>was ${{ col.originalPrice }} now ${{ col.discount }}</small><br>
                    <span style="font-weight: bold;">{{ col.description }}</span>
                  </div>
                </div>
              </div>
              <div class="d-flex justify-content-between total font-weight-bold mt-4">
                <span>Best save</span><span>${{ col.discount }}</span>
              </div>
            </div>
        </div>
    </div>
    
    {% endfor %}
</div>

<nav aria-label="...">
  <ul class="pagination">
    <li class="page-item disabled">
      <a class="page-link" href="#" tabindex="-1">Previous</a>
    </li>
    <li class="page-item"><a class="page-link" href="#">1</a></li>
    <li class="page-item active">
      <a class="page-link" href="#">2 <span class="sr-only">(current)</span></a>
    </li>
    <li class="page-item"><a class="page-link" href="#">3</a></li>
    <li class="page-item">
      <a class="page-link" href="#">Next</a>
    </li>
  </ul>
</nav>

<span>Viewing 1-15 of 1501 results</span>

{% endblock %}

{% block script %}
<script type="text/javascript">
    $('.carousel').carousel({
      interval: 500
    });

    $('.high-to-low').click(function() {
      alert('high to low products');
    });

    $('.low-to-high').click(function() {
      alert('low to high products');
    });

    $('.branch-coles').click(function() {
      alert('this is coles');
    });

    $('.branch-iga').click(function() {
      console.log('iga');
      alert('this is iga');
    });
</script>
{% endblock %}